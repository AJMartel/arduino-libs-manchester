---
layout: default
title: Home
---

<p>This is a <a href="http://en.wikipedia.org/wiki/Manchester_code">Manchester encoding</a> RF library which works on Arduino and ATTiny.

<p>Library supports:

<ul>
<li>various microcontrollers
<ul>
<li>ATmega328
<li>ATmega8
<li>ATMega32U4
<li>ATtiny84 (44, 24)
<li>ATtiny85 (45, 85)


<li>various microcontroller's speed both RX and TX
<ul>
<li>1Mhz (see notes for TX)
<li>8Mhz
<li>16Mhz
<li>16.5Mhz ATtiny85

<li>various transmission speeds
<ul>
<li>300baud
<li>600baud
<li>1200baud
<li>2400baud
<li>4800baud
<li>9600baud
<li>19200baud
</ul>
</ul>

With this library you can sucessfully transmit data between various microcontrollers runnning at various speeds even if their clock speed varies up to 100%. Works great with innacurate internal oscilator. Your maximum transmission speed will depend on many factors like transmitter type, antenna, distance, enviroment noise, microcontroller type and speed
<br><br>
<h2>Getting started on Arduino</h2>

<ol>
<li>Download MANCHESTER.cpp and MANCHESTER.h and save these in the following location

<pre>workspace_root/libraries/Manchester</pre>
    
<li>Import the library from your Arduino sketch

<pre class="prettyprint lang-c">#include &lt;Manchester.h&gt;</pre>
    
<li>Modify your setup() method.

<p>For sending data

<pre class="prettyprint lang-c">
void setup()
{
  man.setupTransmit(TX_PIN, MAN_1200);
}
</pre>
	
<p>For receiving data

<pre class="prettyprint lang-c">   
void setup()
{
  man.setupReceive(RX_PIN, MAN_1200);
  man.beginReceive();
}
</pre>
		
<li>4) Modify your main loop

<p>For sending data

<pre class="prettyprint lang-c">
void loop() {
  man.transmit(transmit_data);
}
</pre>

<p>For receiving data

<pre class="prettyprint lang-c">
void loop() {
  if (man.receiveComplete()) {
    uint16_t m = man.getMessage();
    man.beginReceive(); //start listening for next message right after you retrieve the message
    //do something with your message here
  }
}  
</pre>
<li> For more advanced uses like transmitting with checksum and sender/receiver address or sending array of bytes see attached examples 
</ol>

<h2>Getting started on ATtiny85</h2>

<p>This is broadly the same as on Arduino with one extra step. You need to download the ATtiny hardware files 
(a list of alternative ATtiny implementations is listed on this site which is where I got the files in tiny.zip). 
These should be unzipped into the following location.

<pre>
workspace_root/hardware/tiny
</pre>

<p>As of now (June 2013) most of tiny cores does not support micro delay at 1Mhz and for that reason if you want 
to TRANSMIT (receive is OK) from your 1Mhz ATtiny85/84 you need to call this method before you call transmit setup:

<pre>
man.workAround1MhzTinyCore(); //add this in order for transmitter to work with 1Mhz Attiny85/84
man.setupTransmit(TX_PIN, MAN_1200);
</pre>

<h2>Notes about transmitters</h2>

<p>The library has been tested with common 315Mhz and 433Mhz transmitters using ASK OOK. Tips to improve your 
transmit distance: Attaching an antenna will greatly improve transmit distance (from few cm to few m) for 315Mhz use 
23.81 cm straight wire, for 433Mhz use 17.28cm straight wire as antenna. If possible keep the wire straight, away from 
ground wire, and away from the rest of the circuit and battery pack. Transmitter can use anything from 3.3V to 12V. 
Increasing voltage will increase transmit distance. If you are using voltage regulator, attach transmitter directly to 
the battery. Receiver needs 5V, it doesn't work on 3.3V

<p>Speed: I was able to achieve 9600 bauds between two 16Mhz Arduinos, or 2400 bauds between two 1Mhz ATTiny85, you 
can try different speeds to see which works the best for you.

<p>Full duplex: for bidirectional communication use both 315Mhz and 433Mhz transmitters. This way they can transmit 
at the same time without interfering with each other. If you have just one type, wait for receiver to finish receiving 
before transmitting. 

<h2>Credits</h2>

<ul>
<li>Library originally from <a href="http://arduino.cc/forum/index.php?action=profile;u=14566">carl47</a> on 
<a href="http://arduino.cc/forum/index.php/topic,63755.0.html">this thread</a>
<li>Contributions from <a href="http://mchr3k-arduino.blogspot.com/">mchr3k</a>, 
<a href="https://github.com/MichaelBell/Arduino-sketches">Mike</a> and <a href="https://github.com/cano64">Cano</a>
</ul>

<h2>Blog posts</h2>

<p>I used this library in a series of blog posts where I put together a battery powered temperature sensor:

<ul>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-1.html">Wireless sensor node (part 1) - All on one breadboard</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-2.html">Wireless sensor node (part 2) - Rf link working</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-3.html">Wireless sensor node (part 3) - Manchester lib</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-3-redux.html">Wireless sensor node (part 4) - code fixes</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-4.html">Wireless sensor node (part 5) - Sleeping</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-5.html">Wireless sensor node (part 6) - Turning off subsystems</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/02/wireless-sensor-node-part-6.html">Wireless sensor node (part 7) - Background rx</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/02/wireless-sensor-node-part-7.html">Wireless sensor node (part 8) - New hardware</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/02/wireless-sensor-node-part-8.html">Wireless sensor node (part 9) - Watch battery</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/02/wireless-sensor-node-part-9.html">Wireless sensor node (part 10) - Prototype node</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-enclosures-10.html">Wireless sensor node (part 11) - Enclosures</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-enclosure-mark-1.html">Wireless sensor node (part 12) - Enclosure mark 1</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-getting-started.html">Wireless sensor node (part 13) - Getting started with an SD card</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-enclosure-mark-2.html">Wireless sensor node (part 14) - Enclosure mark 2</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-enclosure-mark-2_19.html">Wireless sensor node (part 15) - Enclosure mark 2 (follow up)</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-software-15.html">Wireless sensor node (part 16) - Software</a>
</ul>