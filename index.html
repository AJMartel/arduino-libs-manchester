---
layout: default
title: Home
---

<p>This is a Manchester encoding RF library which works on Arduino and ATTiny.

<p>Note: I am currently using this library with IDE 1.0.
<br>
<h2>Getting started on Arduino</h2>

<ol>
<li>Download MANCHESTER.cpp and MANCHESTER.h and save these in the following location

<pre>workspace_root/libraries/Manchester</pre>
    
<li>Import the library from your Arduino sketch

<pre class="prettyprint lang-c">#include <MANCHESTER.h></pre>
    
<li>Modify your setup() method.

<p>For receiving 16 bits of data at a time:

<pre class="prettyprint lang-c">
    void setup()
    {
      // Set digital RX pin
      MANRX_SetRxPin(4);
      // Prepare interrupts
      MANRX_SetupReceive();
      // Begin receiving data
      MANRX_BeginReceive();
    }
</pre>
	
<p>For receiving arrays of 8 bit values:
   
<pre class="prettyprint lang-c">   
    unsigned char bufferSize = 10;
    unsigned char bufferData[bufferSize];
    void setup()
    {
      // Set digital RX pin
      MANRX_SetRxPin(4);
      // Prepare interrupts
      MANRX_SetupReceive();
      // Begin receiving data
      MANRX_BeginReceiveBytes(bufferSize, bufferData);
    }
</pre>
	
<p>For sending data:

<pre class="prettyprint lang-c">
    void setup() 
    {  
      MANCHESTER.SetTxPin(4);
      MANCHESTER.SetTimeOut(1000);
    }
</pre>
	
<li>Modify your main code.

<p>Sending 16 bits of data:

<pre class="prettyprint lang-c">
    unsigned int data = 1234;
    MANCHESTER.Transmit(data);
</pre>
	
<p>Sending an array of 8 bit values:

<pre class="prettyprint lang-c">
    char[] data = new char[3];
    data[0] = 1;
    data[1] = 2;
    data[2] = 3;
    MANCHESTER.TransmitBytes(3, &data);
</pre>

<p>Receive 16 bits of data:

<pre class="prettyprint lang-c">
    if (MANRX_ReceiveComplete())
    {
      unsigned int data = MANRX_GetMessage();
      MANRX_BeginReceive();
      // Handle data...
    }
</pre>

<p>Receive an array of 8 bit values:

<pre class="prettyprint lang-c">
    if (MANRX_ReceiveComplete())
    {
      unsigned char receivedSize = 0;
      MANRX_GetMessageBytes(&receivedSize, &bufferData);
      // Handle/copy data...
      MANRX_BeginReceiveBytes(bufferSize, bufferData);
    }
</pre>

</ol>

<h2>Getting started on ATtiny85</h2>

<p>This is broadly the same as on Arduino with one extra step. You need to download the 
<a href="https://github.com/downloads/mchr3k/arduino-libs-manchester/tiny.zip">ATtiny hardware files</a> (a list of
alternative ATtiny implementations is listed on <a href="http://code.google.com/p/arduino-tiny/">this site</a> which
is where I got the files in tiny.zip).

<p>These should be unzipped into the following location.

<pre>workspace_root/hardware/tiny</pre>

<h2>Credits</h2>

<ul>
<li>Library originally from <a href="http://arduino.cc/forum/index.php?action=profile;u=14566">carl47</a> on 
<a href="http://arduino.cc/forum/index.php/topic,63755.0.html">this thread</a>
<li>Contributions from <a href="http://mchr3k-arduino.blogspot.com/">mchr3k</a> and 
<a href="https://github.com/MichaelBell/Arduino-sketches">Mike</a>
</ul>

<h2>Blog posts</h2>

<p>I used this library in a series of blog posts where I put together a battery powered temperature sensor:

<ul>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-1.html">Wireless sensor node (part 1) - All on one breadboard</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-2.html">Wireless sensor node (part 2) - Rf link working</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-3.html">Wireless sensor node (part 3) - Manchester lib</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-3-redux.html">Wireless sensor node (part 4) - code fixes</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-4.html">Wireless sensor node (part 5) - Sleeping</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/01/wireless-sensor-node-part-5.html">Wireless sensor node (part 6) - Turning off subsystems</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/02/wireless-sensor-node-part-6.html">Wireless sensor node (part 7) - Background rx</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/02/wireless-sensor-node-part-7.html">Wireless sensor node (part 8) - New hardware</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/02/wireless-sensor-node-part-8.html">Wireless sensor node (part 9) - Watch battery</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/02/wireless-sensor-node-part-9.html">Wireless sensor node (part 10) - Prototype node</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-enclosures-10.html">Wireless sensor node (part 11) - Enclosures</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-enclosure-mark-1.html">Wireless sensor node (part 12) - Enclosure mark 1</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-getting-started.html">Wireless sensor node (part 13) - Getting started with an SD card</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-enclosure-mark-2.html">Wireless sensor node (part 14) - Enclosure mark 2</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-enclosure-mark-2_19.html">Wireless sensor node (part 15) - Enclosure mark 2 (follow up)</a>
<li><a href="http://mchr3k-arduino.blogspot.com/2012/03/wireless-sensor-node-software-15.html">Wireless sensor node (part 16) - Software</a>
</ul>